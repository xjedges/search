function isArray(a){if(a instanceof Array||a.constructor.toString().match(/function\sArray\(/))return true};function $(k,l){var m={};var n=20;var o=[];var p=true;if(k[0]!="#"){switch(k){case"body":m=document.body;break;case"head":m=document.head;break;case"frag":var q=document.createDocumentFragment();q.append=function(){for(var i in arguments){if(isArray(arguments[i])){for(var j in arguments[i]){q.appendChild(arguments[i][j])}}else{q.appendChild(arguments[i])}}};return q;default:m=document.createElement(k)}}else{m=document.getElementById(k.slice(1))}for(var i in l||{}){var r=l[i];switch(i){case"cls":m.className=r;break;case"text":m.text(r);break;case"html":m.html(r);break;case"css":m.css(r);break;default:m[i]=r}}m.animation=function(j){o.push(function(){p=false;var b=j.time||200;if(j.attr){var c={};for(var i in j.attr){var d;switch(i){case"width":case"height":case"top":case"left":case"bottom":case"right":var e="offset"+i.replace(/(\w)/,function(s){return s.toUpperCase()});d=m[e];break;case"opacity":d=parseInt(m.ownerDocument.defaultView.getComputedStyle(m,null)['opacity']);break;default:var d=parseInt(m.style[i].match(/[0-9]*/))}var f=j.attr[i];var g=(f-d)/n/b*1000;c[i]={start:d,end:f,step:g,accumulate:d}}var h=window.setInterval(function(){var a={};for(var i in c){c[i].accumulate+=c[i].step;a[i]=c[i].accumulate}m.css(a)},1000/n)}window.setTimeout(function(){h&&window.clearInterval(h);o.shift();j.callback&&j.callback();p=true;o[0]&&o[0]()},b)});p&&o[0]()};return m};HTMLElement.prototype.css=function(a){if(typeof(a)=="string"){var b=window.getComputedStyle(this,null)[a];if(a.match(/[height|width|top|right|bottom|left|marginTop|marginRight|marginBottom|marginLeft|paddingTop|paddingRight|paddingBottom|paddingLeft]/)){b=parseInt(b.match(/\d*/))}return b};for(var c in a){b=a[c];switch(typeof b){case"string":this.style[c]=b;break;case"number":if(c=="zIndex"||c=="opacity"||b==0){this.style[c]=b}else{this.style[c]=b+"px"}break;case"object":var d="";for(var i in b){d+=b[i];if(typeof b[i]=="number"&&b[i]!=0){d+="px"}d+=" "}this.style[c]=d;break}}return this};HTMLElement.prototype.attr=function(a,b){if(b){this.setAttribute(a,b)}else{return this.getAttribute(a)}};HTMLElement.prototype.each=function(a){for(var i=0;i<this.childNodes.length;i++){a.call(this.childNodes[i],i)}return this};HTMLElement.prototype.find=function(a){return this.querySelector(a)};HTMLElement.prototype.hasClass=function(a){return this.className.match(new RegExp('(\\s|^)'+a+'(\\s|)'))};HTMLElement.prototype.addClass=function(a){var b=a.split(" ");for(var i in b){if(!this.hasClass(b[i]))this.className+=(this.className==""?"":" ")+b[i]}return this};HTMLElement.prototype.removeClass=function(a){var b=a.split(" ");for(var i in b){if(this.hasClass(b[i])){var c=new RegExp('((\\s|^))'+a+'(\\s|)');this.className=this.className.replace(c,' ');this.className=this.className.replace(/\s+/g," ");this.className=this.className.replace(/(^\s*)|(\s*$)/g,"")}}return this};HTMLElement.prototype.append=function(){for(var i in arguments){if(isArray(arguments[i])){for(var j in arguments[i]){this.appendChild(arguments[i][j])}}else{this.appendChild(arguments[i])}};return this};HTMLElement.prototype.appendTo=function(a){this.parentNode.append(this);return this};HTMLElement.prototype.prepend=function(){for(var i in arguments){if(this.hasChildNodes()){this.insertBefore(arguments[i],this.firstChild)}else{this.appendChild(arguments[i])}}return this};HTMLElement.prototype.prependTo=function(a){this.parentNode.prepend(this);return this};HTMLElement.prototype.parent=function(a){if(a>1){return this.parentNode.parent(a-1)}else{return this.parentNode}};HTMLElement.prototype.child=function(a){if(a!=null){return this.children[a]}else{return this.children}};HTMLElement.prototype.next=function(){return this.nextSibling};HTMLElement.prototype.prev=function(){return this.previousSibling};HTMLElement.prototype.remove=function(){if(this.parentNode){this.parentNode.removeChild(this)}};HTMLElement.prototype.clear=function(){while(this.hasChildNodes()){this.removeChild(this.lastChild)}return this};HTMLElement.prototype.html=function(a){if(a){this.innerHTML=a}else{return this.innerHTML}};HTMLElement.prototype.text=function(a){if(a){this.appendChild(document.createTextNode(a));return this}else{return this.innerHTML}};HTMLElement.prototype.width=function(a){if(a){this.style.width=a;return this}return this.offsetWidth};HTMLElement.prototype.height=function(a){if(a){this.style.height=a;return this}return this.offsetHeight};HTMLElement.prototype.top=function(a){if(a){this.style.top=a;return this}return this.style.top};HTMLElement.prototype.left=function(a){if(a){this.style.left=a;return this}return this.style.left};